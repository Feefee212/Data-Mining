<?xml version='1.0' encoding='utf-8'?>
<scheme version="2.0" title="" description="">
	<nodes>
		<node id="0" name="File" qualified_name="Orange.widgets.data.owfile.OWFile" project_name="Orange3" version="" title="File" position="(130.0, 140.0)" />
		<node id="1" name="Python Script" qualified_name="Orange.widgets.data.owpythonscript.OWPythonScript" project_name="Orange3" version="" title="Python Script" position="(256.0, 121.0)" />
		<node id="2" name="Data Table" qualified_name="Orange.widgets.data.owtable.OWDataTable" project_name="Orange3" version="" title="Data Table" position="(503.0, 124.0)" />
		<node id="3" name="Select Rows" qualified_name="Orange.widgets.data.owselectrows.OWSelectRows" project_name="Orange3" version="" title="Select Rows" position="(374.0, 125.0)" />
		<node id="4" name="Data Table" qualified_name="Orange.widgets.data.owtable.OWDataTable" project_name="Orange3" version="" title="Data Table (1)" position="(254.0, 263.0)" />
	</nodes>
	<links>
		<link id="0" source_node_id="0" sink_node_id="1" source_channel="Data" sink_channel="Data" enabled="true" />
		<link id="1" source_node_id="1" sink_node_id="3" source_channel="Data" sink_channel="Data" enabled="true" />
		<link id="2" source_node_id="3" sink_node_id="2" source_channel="Matching Data" sink_channel="Data" enabled="true" />
		<link id="3" source_node_id="0" sink_node_id="4" source_channel="Data" sink_channel="Data" enabled="true" />
	</links>
	<annotations />
	<thumbnail />
	<node_properties>
		<properties node_id="0" format="pickle">gASVfgoAAAAAAAB9lCiMEmNvbnRyb2xBcmVhVmlzaWJsZZSIjAxyZWNlbnRfcGF0aHOUXZQojB5v
cmFuZ2V3aWRnZXQudXRpbHMuZmlsZWRpYWxvZ3OUjApSZWNlbnRQYXRolJOUKYGUfZQojAdhYnNw
YXRolIxaL1VzZXJzL21hYy93b3JrL3NjaG9vbC8yMDIyLTEvZG1pbmUvZGF0YSBtaW5pbmcgbWF0
ZXJpYWwvZGF0YS9hc3NvY2lhdGlvbl90cmFuc2FjdGlvbnMuY3N2lIwGcHJlZml4lE6MB3JlbHBh
dGiUTowFdGl0bGWUjACUjAVzaGVldJRoDowLZmlsZV9mb3JtYXSUTnViaAYpgZR9lChoCYw4L1Vz
ZXJzL21hYy9EZXNrdG9wL3BwdC9kYXRhL2Fzc29jaWF0aW9uX3RyYW5zYWN0aW9ucy5jc3aUaAtO
aAxOaA1oDmgPaA5oEE51YmgGKYGUfZQoaAmMgC9BcHBsaWNhdGlvbnMvT3JhbmdlMy5hcHAvQ29u
dGVudHMvRnJhbWV3b3Jrcy9QeXRob24uZnJhbWV3b3JrL1ZlcnNpb25zLzMuOC9saWIvcHl0aG9u
My44L3NpdGUtcGFja2FnZXMvT3JhbmdlL2RhdGFzZXRzL2lyaXMudGFilGgLjA9zYW1wbGUtZGF0
YXNldHOUaAyMCGlyaXMudGFilGgNaA5oD2gOaBBOdWJoBimBlH2UKGgJjIMvQXBwbGljYXRpb25z
L09yYW5nZTMuYXBwL0NvbnRlbnRzL0ZyYW1ld29ya3MvUHl0aG9uLmZyYW1ld29yay9WZXJzaW9u
cy8zLjgvbGliL3B5dGhvbjMuOC9zaXRlLXBhY2thZ2VzL09yYW5nZS9kYXRhc2V0cy90aXRhbmlj
LnRhYpRoC2gXaAyMC3RpdGFuaWMudGFilGgNaA5oD2gOaBBOdWJoBimBlH2UKGgJjIMvQXBwbGlj
YXRpb25zL09yYW5nZTMuYXBwL0NvbnRlbnRzL0ZyYW1ld29ya3MvUHl0aG9uLmZyYW1ld29yay9W
ZXJzaW9ucy8zLjgvbGliL3B5dGhvbjMuOC9zaXRlLXBhY2thZ2VzL09yYW5nZS9kYXRhc2V0cy9o
b3VzaW5nLnRhYpRoC2gXaAyMC2hvdXNpbmcudGFilGgNaA5oD2gOaBBOdWJoBimBlH2UKGgJjIkv
QXBwbGljYXRpb25zL09yYW5nZTMuYXBwL0NvbnRlbnRzL0ZyYW1ld29ya3MvUHl0aG9uLmZyYW1l
d29yay9WZXJzaW9ucy8zLjgvbGliL3B5dGhvbjMuOC9zaXRlLXBhY2thZ2VzL09yYW5nZS9kYXRh
c2V0cy9oZWFydF9kaXNlYXNlLnRhYpRoC2gXaAyMEWhlYXJ0X2Rpc2Vhc2UudGFilGgNaA5oD2gO
aBBOdWJoBimBlH2UKGgJjIovQXBwbGljYXRpb25zL09yYW5nZTMuYXBwL0NvbnRlbnRzL0ZyYW1l
d29ya3MvUHl0aG9uLmZyYW1ld29yay9WZXJzaW9ucy8zLjgvbGliL3B5dGhvbjMuOC9zaXRlLXBh
Y2thZ2VzL09yYW5nZS9kYXRhc2V0cy9icm93bi1zZWxlY3RlZC50YWKUaAtoF2gMjBJicm93bi1z
ZWxlY3RlZC50YWKUaA1oDmgPaA5oEE51YmgGKYGUfZQoaAmMfy9BcHBsaWNhdGlvbnMvT3Jhbmdl
My5hcHAvQ29udGVudHMvRnJhbWV3b3Jrcy9QeXRob24uZnJhbWV3b3JrL1ZlcnNpb25zLzMuOC9s
aWIvcHl0aG9uMy44L3NpdGUtcGFja2FnZXMvT3JhbmdlL2RhdGFzZXRzL3pvby50YWKUaAtoF2gM
jAd6b28udGFilGgNaA5oD2gOaBBOdWJljAtyZWNlbnRfdXJsc5RdlIwTc2F2ZWRXaWRnZXRHZW9t
ZXRyeZRDQgHZ0MsAAwAAAAABSgAAACYAAAOhAAAC3gAAAUoAAABCAAADoQAAAt4AAAAAAAAAAAUA
AAABSgAAAEIAAAOhAAAC3pSMC3NoZWV0X25hbWVzlH2UjAZzb3VyY2WUSwCMA3VybJRoDowNZG9t
YWluX2VkaXRvcpR9lIwLX192ZXJzaW9uX1+USwGMEGNvbnRleHRfc2V0dGluZ3OUXZQojBVvcmFu
Z2V3aWRnZXQuc2V0dGluZ3OUjAdDb250ZXh0lJOUKYGUfZQojAZ2YWx1ZXOUfZQojAl2YXJpYWJs
ZXOUXZRoNX2UaEFdlChdlCiMCFF1YW50aXR5lIwUT3JhbmdlLmRhdGEudmFyaWFibGWUjBJDb250
aW51b3VzVmFyaWFibGWUk5RLAGgOiGVdlCiMC1RyYW5zYWN0aW9ulGhJSwBoDohlXZQojAVTdG9y
ZZRoSUsAaA6IZV2UKIwHUHJvZHVjdJRoR4wQRGlzY3JldGVWYXJpYWJsZZSTlEsAjL5Cb3csIENh
bmR5IEJhciwgRGVvZG9yYW50LCBHcmVldGluZyBDYXJkcywgTWFnYXppbmUsIE1hcmtlcnMsIFBh
aW4gUmVsaWV2ZXIsIFBlbmNpbHMsIFBlbnMsIFBlcmZ1bWUsIFBob3RvIFByb2Nlc3NpbmcsIFBy
ZXNjcmlwdGlvbiBNZWQsIFNoYW1wb28sIFNvYXAsIFRvb3RoYnJ1c2gsIFRvb3RocGFzdGUsIFdy
YXBwaW5nIFBhcGVylIllZXNoN0sBdYwKYXR0cmlidXRlc5QoaEZLAoaUaEtLAoaUaE1LAoaUaE9d
lCiMA0Jvd5SMCUNhbmR5IEJhcpSMCURlb2RvcmFudJSMDkdyZWV0aW5nIENhcmRzlIwITWFnYXpp
bmWUjAdNYXJrZXJzlIwNUGFpbiBSZWxpZXZlcpSMB1BlbmNpbHOUjARQZW5zlIwHUGVyZnVtZZSM
EFBob3RvIFByb2Nlc3NpbmeUjBBQcmVzY3JpcHRpb24gTWVklIwHU2hhbXBvb5SMBFNvYXCUjApU
b290aGJydXNolIwKVG9vdGhwYXN0ZZSMDldyYXBwaW5nIFBhcGVylGWGlHSUjAVtZXRhc5QpjApj
bGFzc192YXJzlCmMEm1vZGlmaWVkX3ZhcmlhYmxlc5RdlHViaDwpgZR9lChoP32UKIwJdmFyaWFi
bGVzlF2UjA1kb21haW5fZWRpdG9ylH2UaHJdlChdlCiMDHNlcGFsIGxlbmd0aJRoSUsAaA6IZV2U
KIwLc2VwYWwgd2lkdGiUaElLAGgOiGVdlCiMDHBldGFsIGxlbmd0aJRoSUsAaA6IZV2UKIwLcGV0
YWwgd2lkdGiUaElLAGgOiGVdlCiMBGlyaXOUaFFLAYwsSXJpcy1zZXRvc2EsIElyaXMtdmVyc2lj
b2xvciwgSXJpcy12aXJnaW5pY2GUiWVlc2g3SwF1aFMoaHhLAoaUaHpLAoaUaHxLAoaUaH5LAoaU
dJRoaylobGiAXZQojAtJcmlzLXNldG9zYZSMD0lyaXMtdmVyc2ljb2xvcpSMDklyaXMtdmlyZ2lu
aWNhlGWGlIWUaG1dlHViZXUu
</properties>
		<properties node_id="1" format="literal">{'controlAreaVisible': True, 'currentScriptIndex': 0, 'savedWidgetGeometry': b'\x01\xd9\xd0\xcb\x00\x03\x00\x00\x00\x00\x00:\x00\x00\x00Q\x00\x00\x05\x1c\x00\x00\x02\xec\x00\x00\x00:\x00\x00\x00m\x00\x00\x05\x1c\x00\x00\x02\xec\x00\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00:\x00\x00\x00m\x00\x00\x05\x1c\x00\x00\x02\xec', 'scriptLibrary': [{'name': 'association_table.py', 'script': "import pandas as pd\nfrom Orange.data.pandas_compat import table_from_frame,table_to_frame\nfrom mlxtend.frequent_patterns import apriori\nfrom mlxtend.frequent_patterns import association_rules\n\n#input\ndf= table_to_frame(in_data)\n\nbasket =  df\\\n          .groupby(['Transaction','Product'])['Quantity']\\\n          .sum().unstack().reset_index().fillna(0)\\\n          .set_index('Transaction')\n\ndef encode_units(x):\n    if x &lt;= 0:\n        return None\n    if x &gt;= 1:\n        return 1\nbasket_sets = basket.applymap(encode_units)\n\n#output\nout_data = table_from_frame(basket_sets)", 'filename': '/Users/mac/Desktop/python/association_table.py'}], 'scriptText': 'import pandas as pd\nfrom Orange.data.pandas_compat import table_from_frame,table_to_frame\nfrom mlxtend.frequent_patterns import apriori\nfrom mlxtend.frequent_patterns import association_rules\n\n#input\ndf= table_to_frame(in_data)\n\n#group by transaction  and pivot the product name as column, the value is sum of qty\nbasket =  df\\\n          .groupby([\'Transaction\',\'Product\'])[\'Quantity\']\\\n          .sum().unstack().reset_index().fillna(0)\\\n          .set_index(\'Transaction\')\n\n#apply value transformation\ndef encode_units(x):\n    if x &lt;= 0:\n        return False\n    if x &gt;= 1:\n        return True\n\nbasket_sets = basket.applymap(encode_units)\n\n#find frequent items\nfrequent_itemsets = apriori(basket_sets, min_support=0.001, use_colnames=True)\n\n#get association rules\nrules = association_rules(frequent_itemsets, metric="lift", min_threshold=1)\nrules["antecedents"] = rules["antecedents"].apply(lambda x: \',\'.join(list(x))).astype("unicode")\nrules["consequents"] = rules["consequents"].apply(lambda x: \',\'.join(list(x))).astype("unicode")\n#output\nout_data = table_from_frame(rules)', 'splitterState': b'\x00\x00\x00\xff\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\xa8\x00\x00\x00h\x01\xff\xff\xff\xff\x01\x00\x00\x00\x02\x00', 'vimModeEnabled': False, '__version__': 2}</properties>
		<properties node_id="2" format="literal">{'auto_commit': True, 'color_by_class': True, 'controlAreaVisible': True, 'dist_color_RGB': (220, 220, 220, 255), 'savedWidgetGeometry': b'\x01\xd9\xd0\xcb\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&amp;\x00\x00\x04\xff\x00\x00\x02\xfb\x00\x00\x00\x00\x00\x00\x00B\x00\x00\x04\xff\x00\x00\x02\xfb\x00\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00\x00B\x00\x00\x04\xff\x00\x00\x02\xfb', 'select_rows': True, 'selected_cols': [], 'selected_rows': [], 'show_attribute_labels': True, 'show_distributions': False, '__version__': 2}</properties>
		<properties node_id="3" format="pickle">gASVHgIAAAAAAAB9lCiMC2F1dG9fY29tbWl0lIiMEmNvbnRyb2xBcmVhVmlzaWJsZZSIjBBwdXJn
ZV9hdHRyaWJ1dGVzlImMDXB1cmdlX2NsYXNzZXOUiYwTc2F2ZWRXaWRnZXRHZW9tZXRyeZRDQgHZ
0MsAAwAAAAAAXQAAAQgAAAK0AAACswAAAF0AAAEkAAACtAAAArMAAAAAAAAAAAUAAAAAXQAAASQA
AAK0AAACs5SMEHVwZGF0ZV9vbl9jaGFuZ2WUiIwLX192ZXJzaW9uX1+USwKMEGNvbnRleHRfc2V0
dGluZ3OUXZSMFW9yYW5nZXdpZGdldC5zZXR0aW5nc5SMB0NvbnRleHSUk5QpgZR9lCiMBnZhbHVl
c5R9lCiMCmNvbmRpdGlvbnOUXZQoKIwEbGlmdJRLAksEXZRHP/AAAAAAAABhdJQojApjb25maWRl
bmNllEsCSwRdlEc/4zMzMzMzM2F0lCiMC2FudGVjZWRlbnRzlEsDSwiMCUNhbmR5IEJhcpSFlHSU
ZWgISwJ1jAphdHRyaWJ1dGVzlH2UKIwSYW50ZWNlZGVudCBzdXBwb3J0lEsCjBJjb25zZXF1ZW50
IHN1cHBvcnSUSwKMB3N1cHBvcnSUSwJoF0sCaBRLAowIbGV2ZXJhZ2WUSwKMCmNvbnZpY3Rpb26U
SwJ1jAVtZXRhc5R9lChoGksDjAtjb25zZXF1ZW50c5RLA3V1YmF1Lg==
</properties>
		<properties node_id="4" format="literal">{'auto_commit': True, 'color_by_class': True, 'controlAreaVisible': True, 'dist_color_RGB': (220, 220, 220, 255), 'savedWidgetGeometry': b'\x01\xd9\xd0\xcb\x00\x03\x00\x00\x00\x00\x00u\x00\x00\x00t\x00\x00\x04\x8a\x00\x00\x02\xae\x00\x00\x00u\x00\x00\x00\x90\x00\x00\x04\x8a\x00\x00\x02\xae\x00\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00u\x00\x00\x00\x90\x00\x00\x04\x8a\x00\x00\x02\xae', 'select_rows': True, 'selected_cols': [], 'selected_rows': [], 'show_attribute_labels': True, 'show_distributions': True, '__version__': 2}</properties>
	</node_properties>
	<session_state>
		<window_groups />
	</session_state>
</scheme>
